# 🍚 DA MAKGO SAL JA GÖ (다먹고살자고하는일인데)
### :dart: 외식업 창업자를 위한 맞춤형 상권 추천 및 인디케이터 구축

> **DArt-B 25-2 학술제 F&B 팀** <br>

👥 **Team Members:** 김미정, 김태연, 권남정, 노동희, 박서현, 신혜성

---

## 1. 📋 프로젝트 개요 (Overview)

### **배경 (Background)**
* **자영업의 위기:** 한국의 자영업자 비중은 24.6%로 주요국 중 1위이며, 외식업 폐업률은 **21.52%** 에 달해 생존 경쟁이 매우 치열합니다.
* **기존 서비스의 한계:** 기존 상권 분석은 단순 유동인구 수나 전체 매출 순위만 제공하여, 창업자 개인의 **라이프스타일(워라밸, 선호 근무시간)** 과 **구체적인 타겟팅(가격 전략, 주말 영업 여부)** 을 반영하지 못합니다.

### **목표 (Goal)**
* 창업자 개인의 선호(업종, 가격, 시간, 위치 등)를 반영한 **맞춤형 필터링**과 **데이터 기반의 의사결정 보조 지표**를 제공하여, 지속 가능한 창업을 돕는 **최적 상권 추천 솔루션**을 구축합니다.

---

## 2. 📊 데이터 수집 및 전처리 (Data & Preprocessing)

### **데이터셋 (Dataset)**
* **출처:** 서울 열린데이터 광장 (Seoul Open Data Plaza)
* **범위:** 2024년 4분기 (최신 트렌드 반영)
* **구성:** 서울시 상권분석서비스 내 상주인구, 직장인구, 유동인구, 추정매출, 점포 데이터 등 5개 핵심 데이터셋 병합

### **데이터 전처리 (Preprocessing Strategy)**
* **결측치(Missing Values) 정밀 보완:**
    * **1단계 (시계열 보완):** 과거 3년치 데이터를 활용하여 시계열 추세 기반으로 1차 결측치를 대체했습니다.
    * **2단계 (Random Forest Regression):** 시계열 데이터가 없는 신생 상권 등의 경우, 유동인구/점포수/배후지 인구 등 상관관계가 높은 변수들을 학습시킨 **Random Forest** 모델을 통해 결측치를 정밀하게 예측·보완했습니다.
* **이상치(Outliers) 처리:**
    * 도메인 지식을 바탕으로 심야 시간대 매출 '0원' 등 실제 영업 비활성 데이터와 단순 누락을 구분하여 처리, 데이터의 정합성을 확보했습니다.

---

## 3. 💡 핵심 기능 및 분석 방법론 (Core Features & Methodology)

단순 통계가 아닌, **머신러닝 클러스터링**과 **통계적 가설 검정**을 통해 5가지 개인 맞춤형 지표를 설계했습니다.

### **① 선호 업종 지표 (Preferred Sector Analysis)**
* **접근법:** 상권마다 '잘 되는 업종'은 따로 있다는 점에 착안, 상권 내 업종별 매출 비중 패턴을 분석했습니다.
* **Methodology:**
    * 상권별 매출 비중 벡터를 생성하여 **Clustering (K-Means 등)** 을 수행, 상권의 성격을 유형화했습니다.
    * 각 클러스터 내에서 **변수 기여도(Feature Importance)** 가 가장 높은 업종을 해당 상권의 '추천 업종'으로 매칭했습니다.

### **② 선호 가격대 지표 (Price Range Stratification)**
* **접근법:** 업종별로 '저가/중가/고가'의 기준은 다릅니다 (예: 분식 1만원 vs 일식 1만원).
* **Methodology:**
    * 업종별 건당 결제 금액(객단가)의 데이터 분포(Distribution) 형태를 분석했습니다.
    * 각 업종 분포 특성에 맞춰 **GMM (Gaussian Mixture Model)**, **K-Means**, **IQR (Interquartile Range)** 중 최적의 모델을 개별 적용하여, 통계적으로 유의미한 가격 구간(저가/중가/프리미엄)을 정의했습니다.

### **③ 선호 운영 시간대 지표 (Operating Hours Optimization)**
* **접근법:** 점심 장사에 집중하고 싶은 창업자와 저녁/심야 회식을 타겟팅하는 창업자를 구분합니다.
* **Methodology:**
    * **Friedman Test (비모수 검정):** 각 상권의 시간대별 매출 차이가 통계적으로 유의미한지 검증했습니다.
    * 유의미한 차이가 있는 상권에 한해 피크 시간대를 식별하여 **[점심형 / 저녁형 / 심야형 / 균형형]** 으로 분류했습니다.

### **④ 선호 요일 지표 (Operating Days & "Real Weekend")**
* **접근법:** 상권에 따라 금요일이 평일 같기도, 주말 같기도 합니다. 통계적으로 '실질적 주말'을 정의했습니다.
* **Methodology:**
    * 요일별 매출 데이터에 대해 가설 검정을 수행한 후, **사후 분석(Post-hoc Analysis)** 을 진행했습니다.
    * 매출 패턴이 유사한 요일끼리 묶어 **[주중형 / 주말형(금,토 집중) / 균형형]** 으로 상권을 재정의했습니다.

### **⑤ 직주근접 지표 (Proximity Filtering)**
* **기능:** 창업자의 거주지 좌표(위도, 경도)를 입력받아 반경 Nkm 이내/이외 상권을 필터링하여 '워라밸'을 고려한 입지 선정을 지원합니다.

---

## 4. 🔍 심층 분석 및 추천 알고리즘 (Advanced Analysis)

### **a. 인구 역학 분석 (Population Dynamics)**
* **VIF(분산팽창요인) 분석:** 상주/유동/직장 인구 변수 간의 다중공선성을 제거하여, 매출에 실질적인 영향을 미치는 핵심 인구 변수(예: 20대 여성 유동인구)만을 추출해 모델링에 반영했습니다.

### **b. 최적 휴일 제안 (Optimal Holiday Suggestion)**
* 상권 클러스터별 요일별 매출 기여도를 분석(F-test)하여, 휴무 시 기회비용이 가장 적은 요일(매출 하락폭이 가장 작은 요일)을 **'최적 휴일'** 로 추천합니다.

### **c. 최종 랭킹 산정: 조정 매출액 (Adjusted Sales Score)**
단순 매출 총액이 아닌, 창업자의 선택 조건에 가장 부합하는 상권을 찾기 위해 자체 지표를 개발했습니다.
> **조정 매출액** = 분기 매출액 × (상권 내 해당 업종 비율) × (입지계수 LQ) <br>
※ 업종 집중도와 지역 특화도를 반영하여, 해당 업종 창업 시 실제 기대 수익이 높은 순서대로 Top 10을 추천합니다

---

## 5. 🏆 추천 알고리즘 및 시연 (Recommendation Engine)

1.  사용자 선호 정보 입력 (업종, 가격대, 위치 등).
2.  각 지표별 필터링 조건을 만족하는 상권 추출.
3.  **조정 매출액(Adjusted Sales)** 순으로 Top 10 상권 랭킹 산정
    * *조정 매출액 :* 상권 내 매출 비율과 입지계수(LQ)를 반영한 대표 매출액<br>

단순히 매출이 높은 곳이 아니라, 해당 업종에 특화된 알짜 상권을 찾기 위해 **조정 매출액**을 기준으로 랭킹을 산정합니다.<br>

> 지도 시각화를 통해 추천 상권의 위치, 순위, 예상 점포당 매출액 정보를 함께 제공합니다.

### **Demo Screenshot** 
<img width="1080" height="560" alt="Image" src="https://github.com/user-attachments/assets/19ef3df8-97af-499a-b8d7-e23cd9f87c8e" /><br>

---

## 5. 🛠 Tech Stack

* **Language:** Python 3.x
* **Data Analysis:** Pandas, NumPy, SciPy (Friedman Test, Post-hoc)
* **Machine Learning:** Scikit-learn (Random Forest, K-Means, GMM), HDBSCAN
* **Visualization:** Matplotlib, Seaborn, Folium (Geospatial Mapping)
* **Environment:** Jupyter Notebook
